<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hotwheels-Cluster: TensorRTInferencer Unit Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Hotwheels-Cluster<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">Creation of Cluster APP for SEA:ME project.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_apps_2car__controls_2tests_2documentation_2Inference__TestDoc.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TensorRTInferencer Unit Tests</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md6"></a></p>
<p>This test suite verifies the correctness, robustness, and stability of the <code><a class="el" href="classTensorRTInferencer.html">TensorRTInferencer</a></code> class. The class performs GPU-based preprocessing and inference using TensorRT and OpenCV CUDA. The tests are written using Google Test.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
✅ What’s Covered</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Test Category   </th><th class="markdownTableHeadNone">What It Validates    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Engine file loading   </td><td class="markdownTableBodyNone">Whether valid/invalid engine files are handled properly    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Image preprocessing   </td><td class="markdownTableBodyNone">Format conversion, resizing, normalization, and type validation    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Inference execution   </td><td class="markdownTableBodyNone">Proper memory transfer, input validation, and exception handling    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Output correctness   </td><td class="markdownTableBodyNone">Whether inference outputs have correct size, type, and content    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Edge cases   </td><td class="markdownTableBodyNone">Behavior on empty inputs, invalid formats, incorrect shapes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Performance/Robustness   </td><td class="markdownTableBodyNone">Threaded execution, multiple reuse, determinism   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md9"></a>
Test Descriptions</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
Engine Initialization</h2>
<ul>
<li><code>CanReadEngineFile</code> Verifies that a valid engine file can be loaded without throwing.</li>
<li><code>WrongEngineFile</code> Confirms a <code>std::runtime_error</code> is thrown when an invalid path is passed.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md12"></a>
Image Preprocessing (<code>preprocessImage</code>)</h2>
<ul>
<li><code>PreprocessImageGrayscale</code> BGR input is converted to grayscale and normalized.</li>
<li><code>ThrowsOnEmptyImage</code> Ensures an empty <code>GpuMat</code> raises a <code>std::runtime_error</code>.</li>
<li><code>PreprocessGrayscaleNoConvert</code> Grayscale input bypasses conversion.</li>
<li><code>PreprocessGrayscaleWithConvert</code> Grayscale input is handled correctly and normalized.</li>
<li><code>PreprocessColorImage</code> Full color input is correctly converted and resized.</li>
<li><code>PreprocessImageWithInvalidType</code> <code>CV_8UC4</code> input causes an exception (not supported).</li>
<li><code>PreprocessImageWithEmptyGpuMat</code> Confirms an empty input is rejected.</li>
<li><code>PreprocessImageWithWrongSize</code> Smaller image is accepted (no shape validation happens here).</li>
<li><code>PreprocessImageWithValidSize</code>, <code>WithValidSizeAndType</code>, etc. Valid images are accepted without exceptions.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md14"></a>
Inference Execution (<code>runInference</code>)</h2>
<ul>
<li><code>RunInferenceThrowsOnWrongSize</code> Image of wrong dimensions triggers an exception.</li>
<li><code>RunInferenceSucceedsOnValidInput</code> A correctly sized float image runs inference without error.</li>
<li><code>RunInferenceFailsOnNullInput</code> Empty <code>GpuMat</code> leads to exception during memory copy.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md16"></a>
Output Validation</h2>
<ul>
<li><code>OutputHasNonZeroValuesAfterInference</code> Ensures inference produces non-zero values.</li>
<li><code>MakePredictionDoesNotThrowOnValidInput</code> Sanity check that <code>makePrediction()</code> works with valid input.</li>
<li><code>MakePredictionReturnsCorrectSize</code> Output is the expected shape and type (<code>CV_32F</code>).</li>
<li><code>MakePredictionOutputNotAllZero</code> Ensures the output isn't all zeros, indicating a valid prediction.</li>
<li><code>MakePredictionReturnsGpuMat</code> Checks the return type is non-empty and GPU-based.</li>
<li><code>PredictionOutputHasExpectedRange</code> Confirms the output values are normalized within <code>[0, 1]</code>.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md18"></a>
Robustness &amp; Edge Cases</h2>
<ul>
<li><code>ThreadedInferenceDoesNotCrash</code> Inference can run concurrently in multiple threads.</li>
<li><code>ReuseInferenceMultipleTimes</code> A single <code><a class="el" href="classTensorRTInferencer.html">TensorRTInferencer</a></code> instance can run multiple predictions safely.</li>
<li><code>MakePredictionIsDeterministic</code> The same input consistently yields the same output (within a small delta).</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md20"></a>
Requirements</h1>
<ul>
<li>CUDA-compatible GPU</li>
<li>OpenCV with CUDA support</li>
<li>TensorRT properly installed</li>
<li>A valid <code>.engine</code> file for inference</li>
<li>Google Test </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
